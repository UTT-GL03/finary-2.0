- name: Test Finary Dashboard Features
  url: http://localhost/
  waitForSelector: main.container .grid

  actions:
    - name: Go to incomes page
      type: click
      element: "article:nth-of-type(2) header a[href='/incomes']"
      pageChange: true

      # The page now displays <p>Loading...</p> until everything is ready.
      # So we wait for the full page to be rendered:
      waitForSelector: "[data-testid='incomes-loaded']"

    - name: Open first income detail
      type: click
      element: "table tbody tr:nth-child(1) td:last-child a"
      pageChange: true
      waitForSelector: "main.container h1"

    - name: Return to dashboard
      type: click
      element: "header h1"
      pageChange: true
      waitForSelector: "main.container .grid"
